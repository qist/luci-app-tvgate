# luci-app-tvgate

LuCI app for TVGate on OpenWrt.

## Description

TVGate is a high-performance local network resource forwarding and proxy tool. It can forward internal network resources (such as http, https, rtsp, rtp) to the external network through HTTP, allowing external network users to access streams or request proxy resources by accessing the port (default 8888) of the Go program host.

## Features

- Automatically detects system architecture and downloads the appropriate TVGate binary
- Supports GitHub release acceleration via proxy (e.g., https://hk.gh-proxy.com/)
- Web UI for easy configuration and management
- Real-time display of service status
- Support for multiple architectures (x86_64, aarch64, armv7l, etc.)

## Installation

1. Compile the package:
   ```bash
   make package/luci-app-tvgate/compile V=s
   ```

2. Install the generated ipk package:
   ```bash
   opkg update
   opkg install luci-lua-runtime curl ca-certificates unzip luci-base
   opkg install /tmp/luci-app-tvgate_1.0.0_all.ipk
   ```

3. Uninstall package:
   ```bash
   opkg remove luci-app-tvgate
   ```
## Configuration

After installation, you can configure TVGate in the LuCI interface:
1. Navigate to Services -> TVGate
2. Configure the download proxy if needed (e.g., https://hk.gh-proxy.com/)
3. Click "Download/Update Binary" to download the TVGate executable
4. Enable the service and configure the listening ports
5. Save and apply the settings

## Usage

Once the service is running:
- Access the web interface at `http://[router-ip]:[config-port]/[config-web-path]` to manage settings
- Access IPTV streams at `http://[router-ip]:[config-port]/[proxy-url-path]`

## Technical Details

- The app automatically detects the system architecture and downloads the corresponding binary
- ZIP format is used for releases, automatically extracted after download
- Service managed through procd with automatic restart capability
- Configuration file is automatically generated by TVGate itself

## Supported Architectures

- x86_64
- aarch64 (ARM64)
- armv7l (ARMv7)